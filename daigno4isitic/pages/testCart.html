<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      cont
      x
      56ent="width=device-width, initial-scale=1.0"
    />
    <link rel="icon" href="https://payments.practo.com/favicon-consumer.ico" />
    <title>cart</title>
    <!-- <link rel="stylesheet" href="/style/view_cart.css" /> -->
    <link rel="stylesheet" href="../style/header_footer.css" />
  </head>
  <body>
    <header>
      <div class="wrapper">
        <div class="practo_logo_new"></div>
      </div>
    </header>
    <div class="bg-pale-grey-two">
      <div
        class="prev_page"
        onclick="(location.href='../pages/filter_page.html')"
      >
        <p>Go to previous page</p>
      </div>
      <div class="cart_container">
        <div class="cart_container1"><p id="tot_num"></p></div>
        <div class="border_bottom_cart" id="data"></div>
        <div
          class="Adding_more_cart"
          onclick="(location.href='../pages/filter_page.html')"
        >
          <button>Add more medicines</button>
        </div>
        <div class="u-position--fixed">
          <div class="box_carting">
            <p id="sum_amou"></p>
            <button onclick="(location.href='../pages/testCArtAddress.html')">
              Checkout
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
<script>
  let data = JSON.parse(localStorage.getItem("tcart"))
  console.log(data)
  let parent = document.getElementById("data")

  data.forEach(({ pname, description, price }) => {
    let div = document.createElement("div")
    div.className = "displayItem_list"

    let p = document.createElement("p")
    p.className = "p1-disp"
    p.innerText = pname
    let pri = document.createElement("p")
    pri.className = "p2-disp"
    pri.innerText = `₹${price}`
    div.append(p, pri)
    parent.append(div)
    sumprice()
  })

  function sumprice() {
    let suma = document.getElementById("sum_amou")
    let totnum = document.getElementById("tot_num")
    let data = JSON.parse(localStorage.getItem("tcart"))
    totnum.innerText = `My cart: ${data.length} items`
    let sum = 0
    for (let i = 0; i < data.length; i++) {
      sum += Number(data[i].price)
    }
    var tsum = localStorage.setItem("tsum", JSON.stringify(sum))
    suma.innerHTML = null
    suma.append("Payable Amount: ₹", sum)
  }
</script>
